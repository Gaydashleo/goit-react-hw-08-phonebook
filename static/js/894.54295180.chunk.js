"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[894],{6894:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(2791),a=t(9434),o=t(1044),s=t(1663),c=t(5985),i=t(6916),u=function(e){return e.contacts.items},l=function(e){return e.contacts.isLoading},m=function(e){return e.contacts.filter},d=(0,i.P1)([u,m],(function(e,n){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))})),h=t(885),f=t(6513),p="ContactForm_form__dhl+T",x="ContactForm_label__-cVXI",b="ContactForm_input__Bl93P",g=t(3329);function v(){var e=(0,r.useState)(""),n=(0,h.Z)(e,2),t=n[0],i=n[1],m=(0,r.useState)(""),d=(0,h.Z)(m,2),v=d[0],C=d[1],j=(0,a.v9)(u),w=(0,a.v9)(l),A=(0,a.I0)(),y=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":i(r);break;case"phone":C(r)}},Z=function(){i(""),C("")};return(0,g.jsxs)("form",{className:p,onSubmit:function(e){return e.preventDefault(),function(e){return j.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))}(t)?(0,c.Am)("\ud83e\udd14 ".concat(t," is already in the phonebook.")):function(e){return j.find((function(n){return n.phone===e}))}(v)?(0,c.Am)("\ud83e\udd14 ".concat(v," is already in the phonebook.")):function(e,n){return""===e.trim()||""===n.trim()}(t,v)?c.Am.info("\ud83d\ude31 Enter the contact's name and number phone!"):(A(function(e,n){return function(t){var r={name:e,number:n};t((0,s.addContactRequest)()),o.ZP.post("/contacts",r).then((function(e){var n=e.data;return t((0,s.addContactSuccess)(n))})).catch((function(e){t((0,s.addContactError)(e)),400===e.response.status?c.Am.error("Contact creation error!"):c.Am.error("Something went wrong! Please reload the page!")}))}}(t,v)),void Z())},children:[(0,g.jsxs)("label",{className:x,children:["Name",(0,g.jsx)("input",{className:b,type:"text",name:"name",value:t,onChange:y,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,g.jsxs)("label",{className:x,children:["Number",(0,g.jsx)("input",{className:b,type:"tel",name:"number",value:v,onChange:y,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),!w&&(0,g.jsx)(f.Z,{variant:"contained",type:"submit",color:"secondary",size:"large",children:"Add contact"}),w&&(0,g.jsx)("p",{children:"Loading..."})]})}var C,j,w=t(168),A=t(6444),y=A.ZP.label(C||(C=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 25px;\n  \n  \n"]))),Z=A.ZP.input(j||(j=(0,w.Z)(["\n  width: 200px;\n  margin-top: 6px;\n  width: 420px;\n  box-shadow:  inset 0 7em 10em -5em rgba(255,255,255,0.6),\n    0 0.3em 0.5em -0.2em rgba(100,100,100,1),\n    0 1em 2em -0.75em rgba(100,100,100,0.75),\n    0 1em 3em -0.5em rgba(100,100,100,0.5),\n    0 3em 3em -0.25em rgba(100,100,100,0.2);\n"])));function P(){var e=(0,a.v9)(m),n=(0,a.I0)();return(0,g.jsxs)(y,{children:["Find contacts by name",(0,g.jsx)(Z,{type:"text",name:"filter",value:e,onChange:function(e){return n(s(e.currentTarget.value))},required:!0})]})}var _=t(7025),k=t(7407),S=t(8849),E=t(4549);function N(){var e=(0,a.I0)(),n=(0,a.v9)(d),t=(0,a.v9)(u);return(0,g.jsxs)(g.Fragment,{children:[t.length>0&&(0,g.jsx)(S.E.ul,{children:(0,g.jsx)(E.M,{children:n.map((function(n){var t=n.id,r=n.name,a=n.number;return(0,g.jsxs)(S.E.li,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:r}),(0,g.jsx)("em",{children:a})]}),(0,g.jsx)(_.Z,{"aria-label":"delete",color:"secondary",type:"button",onClick:function(){return e((n=t,function(e){e((0,s.deleteContactRequest)()),o.ZP.delete("/contacts/".concat(n)).then((function(){return e((0,s.deleteContactSuccess)(n))})).catch((function(n){e((0,s.deleteContactError)(n)),404===n.response.status?c.Am.info("There is no such user's collection!"):500===n.response.status?c.Am.error("Oops! Server error! Please try later!"):c.Am.error("Something went wrong! Please reload the page!")}))}));var n},children:(0,g.jsx)(k.Z,{})})]},t)}))})}),!t.length&&(0,g.jsx)(E.M,{children:(0,g.jsx)(S.E.p,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",children:"Your phonebook is empty. Please add contact."})})]})}function q(){var e=(0,a.I0)();return(0,r.useEffect)((function(){return e((function(e){e((0,s.fetchContactsRequest)()),o.ZP.get("/contacts").then((function(n){var t=n.data;return e((0,s.fetchContactsSuccess)(t))})).catch((function(n){e((0,s.fetchContactsError)(n)),404===n.response.status?c.Am.info("There is no such user's collection!"):500===n.response.status?c.Am.error("Oops! Server error! Please try later!"):c.Am.error("Something went wrong! Please reload the page!")}))}))}),[e]),(0,g.jsxs)("div",{children:[(0,g.jsx)(v,{}),(0,g.jsx)("h2",{children:"Contacts"}),(0,g.jsx)(P,{}),(0,g.jsx)(N,{})]})}}}]);
//# sourceMappingURL=894.54295180.chunk.js.map